---
import Layout from "@/layouts/Layout.astro"
import FloatingNav from "@/components/FloatingNav.vue";
import HeroSection from "@/components/landing/HeroSection.vue";
import BenefitsSection from "@/components/landing/BenefitsSection.vue";
import ProcessSection from "@/components/landing/ProcessSection.vue";
import MentorsSection from "@/components/landing/MentorsSection.vue";
import FAQSection from "@/components/landing/FAQSection.vue";
import VideosSection from "@/components/landing/VideosSection.vue";
import FooterSection from "@/components/landing/FooterSection.vue";
import "./../styles/global.css";

const formUrl = "https://forms.gle/JdC6fM1Fazotx6b6A";
// YouTube channel and videos
const youtubeChannel = {
  name: "CuestionaBle",
  handle: "@cuestionablepe",
  url: "https://www.youtube.com/@cuestionablepe",
};

// To add videos: Just paste the video ID from YouTube URL
// Example: https://www.youtube.com/watch?v=dQw4w9WgXcQ -> paste 'dQw4w9WgXcQ'

const latestVideos = [
  "W1xLNhRqXX4",
  "PkhtfTh8A3w",
  "9Hau3zKtrIM"
  

].filter(Boolean);

const steps = [
  {
    number: 1,
    title: "Explora nuestros mentores",
    description: "Descubre los perfiles y temas que m치s te inspiren.",
  },
  {
    number: 2,
    title: "Completa el formulario",
    description: "Cu칠ntanos qu칠 quieres lograr con tu mentor칤a.",
  },
  {
    number: 3,
    title: "Coordinamos los detalles",
    description: "Revisaremos tu informaci칩n y nos pondremos en contacto.",
  },
  {
    number: 4,
    title: "Comienza tu mentor칤a",
    description: "Aprovecha al m치ximo tu sesi칩n personalizada.",
  },
];

// To add mentor photos:
// 1. Place image files in /public/mentors/ folder (e.g., /public/mentors/adrian.jpg)
// 2. Reference them as: image: 'mentors/adrian.jpg'
// 3. Or use external URLs: image: 'https://example.com/photo.jpg'
// 4. Leave empty for initials placeholder: image: ''

import { getImage } from "astro:assets";
import adrianImg from "@/assets/mentors/andrian_zamudio.png";
import maribelImg from "@/assets/mentors/maribel_bartolo.png";
import nicoleImg from "@/assets/mentors/nicole_quispe.png";
import milagrosImg from "@/assets/mentors/milagros_moreno.jpg";
import maribelReviewImg from "@/assets/mentors/review_maribel.png";
import nicoleReviewImg from "@/assets/mentors/review_nicole.png";
import nicoleReview2Img from "@/assets/mentors/review_nicole2.jpeg";

const mentorImageTransform = { format: "webp", widths: [320, 480, 640, 800] };
const reviewImageTransform = { format: "webp", widths: [480, 800, 1200] };

const adrianOptimized = await getImage({ src: adrianImg, ...mentorImageTransform });
const maribelOptimized = await getImage({ src: maribelImg, ...mentorImageTransform });
const nicoleOptimized = await getImage({ src: nicoleImg, ...mentorImageTransform });
const milagrosOptimized = await getImage({ src: milagrosImg, ...mentorImageTransform });
const maribelReviewOptimized = await getImage({ src: maribelReviewImg, ...reviewImageTransform });
const nicoleReviewOptimized = await getImage({ src: nicoleReviewImg, ...reviewImageTransform });
const nicoleReview2Optimized = await getImage({ src: nicoleReview2Img, ...reviewImageTransform });

const siteUrl = "https://cuestionable.pe";

const mentors = [
  {
    name: "Adrian Zamudio",
    topic: "Marketing",
    availability: "Disponible",
    rating: 5,
    image: adrianOptimized.src,
    imageSrcSet: adrianOptimized.srcSet.attribute,
    imageWidth: adrianOptimized.attributes.width,
    imageHeight: adrianOptimized.attributes.height,
    bio: "Especialista en marketing digital con m치s de 5 a침os de experiencia ayudando a empresas a crecer su presencia online y optimizar sus estrategias de contenido.",
    description: "Apasionado por el marketing y la administraci칩n, disfruto transformar los datos en estrategias con prop칩sito. Tengo experiencia en investigaci칩n de mercado, gesti칩n de influencers y creaci칩n de contenido para redes sociales. Tambi칠n particip칠 en la elaboraci칩n de un libro, lo que reforz칩 mi disciplina y enfoque en proyectos con valor real.",
    helpText: {
      intro: null,
      items: [
        "Puedo apoyarte en investigaci칩n de mercado, an치lisis de competencia, gesti칩n de KOL, estrategias de contenido digital y elaboraci칩n de un libro para Amazon.",
        "Me motiva compartir lo que s칠 y acompa침ar a otros en el desarrollo de ideas que conecten e inspiren."
      ],
      outro: null
    },
    reviewsImages: []
  },
  {
    name: "Maribel Bartolo",
    topic: "Recursos Humanos",
    availability: "Disponible",
    rating: 5,
    image: maribelOptimized.src,
    imageSrcSet: maribelOptimized.srcSet.attribute,
    imageWidth: maribelOptimized.attributes.width,
    imageHeight: maribelOptimized.attributes.height,
    bio: "Experta en gesti칩n de talento y desarrollo organizacional, enfocada en crear culturas de trabajo positivas y procesos de selecci칩n efectivos.",
    description: "Apasionada por conectar con las personas, escuchar historias y acompa침ar procesos de crecimiento. Mi vocaci칩n est치 en lo humano: el talento, la cultura organizacional y la inclusi칩n",
    helpText: {
      intro: "Puedo ofrecerte mentor칤a personalizada sobre temas como:",
      items: [
        "C칩mo mejorar tu CV y tu perfil de LinkedIn para destacar frente a reclutadores.",
        "Estrategias para conseguir tus primeras pr치cticas preprofesionales.",
        "C칩mo prepararte para entrevistas laborales y comunicar tus fortalezas con confianza.",
        "Aprende a planificar tu desarrollo profesional y aprovechar oportunidades desde la universidad.",
        "Descubre c칩mo el voluntariado, las becas y tus primeras experiencias pueden abrirte camino en Recursos Humanos."
      ],
      outro: null
    },
    reviewsImages: [
      {
        src: maribelReviewOptimized.src,
        srcSet: maribelReviewOptimized.srcSet.attribute,
        width: maribelReviewOptimized.attributes.width,
        height: maribelReviewOptimized.attributes.height,
        alt: "Rese침a de Maribel Bartolo en LinkedIn",
      },
    ]
  },
  {
    name: "Nicole Quispe",
    topic: "Tecnolog칤a",
    availability: "Disponible",
    rating: 5,
    image: nicoleOptimized.src,
    imageSrcSet: nicoleOptimized.srcSet.attribute,
    imageWidth: nicoleOptimized.attributes.width,
    imageHeight: nicoleOptimized.attributes.height,
    bio: "Desarrolladora full-stack y consultora en tecnolog칤a, especializada en ayudar a profesionales a transicionar al mundo tech y mejorar sus habilidades t칠cnicas.",
    description: "Me apasionan la tecnolog칤a y los datos. Disfruto transformar informaci칩n en decisiones inteligentes.",
    helpText: {
      intro: "Te ayudo a crear dashboards en Power BI que impacten visualmente y a automatizar tus procesos con Power Query y Power Automate, para que tomes decisiones m치s r치pido. Te cuento algunos de mis proyectos 游녢",
      items: null,
      sections: [
        {
          title: "Exchange Rate Dashboard",
          description: "Dise침ado para analizar ventas netas y comparar el rendimiento anual, optimizando la visualizaci칩n de tendencias clave.",
          tools: ["Power BI", "Power Automate", "SAP Analytics Cloud"]
        },
        {
          title: "Customer Loyalty Dashboard",
          description: "Un proyecto clasifica autom치ticamente a los clientes frecuentes seg칰n sus puntos acumulados, mejorando la segmentaci칩n y fidelizaci칩n.",
          tools: ["Google Sheets", "Looker Studio"]
        }
      ],
      outro: null
    },
    reviewsImages: [
      {
        src: nicoleReviewOptimized.src,
        srcSet: nicoleReviewOptimized.srcSet.attribute,
        width: nicoleReviewOptimized.attributes.width,
        height: nicoleReviewOptimized.attributes.height,
        alt: "Rese침a de Nicole Quispe en LinkedIn",
      },
      {
        src: nicoleReview2Optimized.src,
        srcSet: nicoleReview2Optimized.srcSet.attribute,
        width: nicoleReview2Optimized.attributes.width,
        height: nicoleReview2Optimized.attributes.height,
        alt: "Rese침a de Nicole Quispe en LinkedIn",
      },
    ]
  },
  {
    name: "Milagros Moreno",
    topic: "An치lisis de Datos",
    availability: "Disponible",
    rating: 5,
    image: milagrosOptimized.src,
    imageSrcSet: milagrosOptimized.srcSet.attribute,
    imageWidth: milagrosOptimized.attributes.width,
    imageHeight: milagrosOptimized.attributes.height,
    bio: "Economista especializada en an치lisis de datos y acompa침amiento profesional, combinando habilidades t칠cnicas con desarrollo integral.",
    description: "Me apasiona acompa침ar a las personas en su crecimiento personal y profesional, generando espacios de aprendizaje y mejora continua. Paralelamente, como economista, disfruto analizar datos y transformar informaci칩n en decisiones estrat칠gicas. Manejo herramientas como Excel avanzado, Power BI, Python para el an치lisis econ칩mico, la automatizaci칩n de procesos y la visualizaci칩n de resultados.",
    helpText: {
      intro: "Puedo ayudarte en el an치lisis econ칩mico y de datos para la toma de decisiones, as칤 como en el desarrollo de proyectos acad칠micos o profesionales, utilizando herramientas como Excel avanzado, Power BI y Python. Adem치s, acompa침o procesos de crecimiento personal y profesional, apoyando en:",
      items: [
        "Definici칩n de objetivos profesionales",
        "Mejora del CV y perfil de LinkedIn",
        "Preparaci칩n para entrevistas"
      ],
      outro: "Mi enfoque busca fortalecer tanto las habilidades t칠cnicas como el desarrollo integral de cada persona."
    },
    reviewsImages: [],
    reviewText: {
      quote: "Quiero expresar mi m치s sincero agradecimiento a Milagros Moreno por el apoyo brindado durante mi proceso de selecci칩n para lo que hoy es mi puesto como practicante preprofesional en Enazul. Su atenci칩n constante hacia mi perfil y su acompa침amiento en cada etapa del proceso fueron fundamentales para alcanzar este logro. Su orientaci칩n, compromiso e insistencia hicieron que mi postulaci칩n se convirtiera en un 칠xito compartido.",
      author: "Guillermo Calder칩n",
      role: "Estudiante de Econom칤a UNMSM"
    }
  },
];

const mentorsSchema = {
  "@context": "https://schema.org",
  "@type": "ItemList",
  name: "Mentores de CuestionaBle Mentorship",
  itemListElement: mentors.map((mentor, idx) => ({
    "@type": "ListItem",
    position: idx + 1,
    item: {
      "@type": "Person",
      name: mentor.name,
      description: mentor.bio,
      knowsAbout: mentor.topic,
      image: new URL(mentor.image, siteUrl).toString(),
      worksFor: { "@id": "https://cuestionable.pe/#organization" },
    },
  })),
};

const faqs = [
  {
    question: "쯈u칠 tipo de mentor칤as ofrecen?",
    answer:
      "Nos enfocamos en mejora del perfil profesional y soluciones basadas en herramientas de Business Intelligence.",
  },
  {
    question: "쯃as mentor칤as son pagadas?",
    answer:
      "S칤, las mentor칤as tienen un costo que se comunica al momento de la confirmaci칩n. El pago se realiza dentro de los tres d칤as posteriores a la aprobaci칩n.",
  },
  {
    question: "쯈u칠 pasa si no puedo asistir?",
    answer:
      "Puedes reprogramar o solicitar reembolso con al menos 24 horas de anticipaci칩n.",
  },
];
---

<Layout>
  <Fragment slot="head">
    <script type="application/ld+json" set:html={JSON.stringify(mentorsSchema)} />
  </Fragment>
  <FloatingNav formUrl={formUrl} />

  <main id="main-content">
    <!-- HERO -->
    <HeroSection formUrl={formUrl} />

    <!-- BENEFITS -->
    <BenefitsSection />

    <!-- PROCESS -->
    <ProcessSection steps={steps} />

    <!-- MENTORS -->
    <section id="mentores" class="mentors relative py-12 md:py-16 bg-white">
      <div class="container p-0">
        <div class="section-header reveal-on-scroll">
          <div class="section-badge">Equipo</div>
          <h2 class="section-title">Nuestros mentores</h2>
          <p class="text-base text-[var(--text-secondary)] mt-4 max-w-2xl mx-auto">
            Explora perfiles por especialidad y encuentra a la persona indicada para tu objetivo.
          </p>
        </div>

        <MentorsSection mentors={mentors} client:load />
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq" class="faq py-12 md:py-16 bg-brand-bg-secondary">
      <div class="container">
        <div class="section-header reveal-on-scroll">
          <div class="section-badge">FAQ</div>
          <h2 class="section-title">Preguntas frecuentes</h2>
        </div>

        <FAQSection faqs={faqs} client:load />

        <div class="text-center py-4 max-w-[600px] mx-auto reveal-on-scroll">
          <p class="text-[var(--text-secondary)]">
            쯄치s preguntas? Escr칤benos a <a
              href="mailto:cuestionable.info@gmail.com"
              class="text-[var(--primary)] no-underline font-semibold hover:underline"
              >cuestionable.info@gmail.com</a
            >
          </p>
        </div>
      </div>
    </section>

    <!-- VIDEOS -->
    <section class="videos py-12 md:py-16 bg-white">
      <div class="container">
        <div class="section-header reveal-on-scroll">
          <div class="section-badge">Videos</div>
          <h2 class="section-title">Insp칤rate con historias reales</h2>
          <p class="text-base text-[var(--text-secondary)] mt-4 max-w-2xl mx-auto">
            Mira nuestro podcast y conecta con personas que impulsan cambios y comparten su camino
          </p>
        </div>

      <div
        class="flex justify-between items-center p-4 bg-[var(--bg-secondary)] rounded-2xl border border-[var(--border)] mb-6 transition-all duration-300 hover:border-[var(--primary)] hover:shadow-lg flex-col md:flex-row gap-6 md:gap-0 text-center md:text-left reveal-on-scroll"
      >
        <div class="flex items-center gap-6 flex-col md:flex-row">
          <div
            class="w-16 h-16 rounded-2xl flex items-center justify-center text-white flex-shrink-0 shadow-md"
            style="background: linear-gradient(135deg, #FF0000 0%, #CC0000 100%);"
          >
            <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
              <path
                d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"
              ></path>
            </svg>
          </div>
          <div class="flex flex-col gap-1">
            <h3 class="text-xl font-bold text-[var(--text-primary)] m-0">
              {youtubeChannel.name}
            </h3>
            <p class="text-sm text-[var(--text-secondary)] m-0">
              {youtubeChannel.handle}
            </p>
          </div>
        </div>
        <a
          href={youtubeChannel.url}
          target="_blank"
          rel="noopener noreferrer"
          class="flex items-center gap-2 px-8 py-3 bg-[var(--primary)] text-white no-underline rounded-full font-semibold text-[15px] transition-all duration-200 shadow-sm hover:bg-[var(--primary-dark)] hover:-translate-y-[1px] hover:shadow-md w-full md:w-auto justify-center"
        >
          <svg
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"
            ></path>
          </svg>
          Suscribirse
        </a>
      </div>

        <VideosSection
          client:load
          videos={latestVideos}
          channelUrl={youtubeChannel.url}
        />
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <FooterSection />
</Layout>

<script>
  // Scroll Animation Observer
  const observerOptions = {
    root: null,
    rootMargin: "0px",
    threshold: 0.1,
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add("is-visible");
        observer.unobserve(entry.target); // Only animate once
      }
    });
  }, observerOptions);

  document.addEventListener("DOMContentLoaded", () => {
    const revealElements = document.querySelectorAll(".reveal-on-scroll");
    revealElements.forEach((el) => observer.observe(el));
  });
</script>
